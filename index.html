<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>MY HOUSE</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç Flowing Script -->
    <link href="https://fonts.googleapis.com/css2?family=Flowing+Script&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: black;
        }

        h1 {
            font-family: 'Flowing Script', cursive;
            font-size: 60px;
            color: black;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        h1 span.emoji {
            display: inline-block;
            transition: transform 0.5s;
            cursor: pointer;
        }

        h1 span.emoji:hover {
            transform: rotate(360deg);
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        button {
            padding: 20px 30px;
            font-size: 20px;
            border-radius: 12px;
            border: 2px solid black; /* —á–µ—Ä–Ω–∞—è —Ä–∞–º–∫–∞ */
            background-color: white;
            color: black;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        button:hover {
            transform: scale(1.1);
            background-color: #f0f0f0;
        }

        .section {
            display: none;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 15px;
            color: black;
            width: 350px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        input[type="text"], input[type="number"], select {
            padding: 5px;
            font-size: 16px;
            margin: 5px 0;
            width: 90%;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .calc-grid {
            display: grid;
            grid-template-columns: repeat(4, 60px);
            grid-gap: 5px;
            justify-content: center;
            margin-top: 10px;
        }

        .calc-grid button {
            padding: 10px;
            font-size: 18px;
            border: 2px solid black;
            background-color: white;
            color: black;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .calc-grid button:hover {
            transform: scale(1.1);
            background-color: #f0f0f0;
        }

        .time-display {
            font-size: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>
        MY 
        <span class="emoji">üéÆ</span> 
        HOUSE
    </h1>

    <div class="buttons">
        <button onclick="showSection('calculator')">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
        <button onclick="showSection('guess')">üé≤ –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ</button>
        <button onclick="showSection('password')">üîë –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª—è</button>
        <button onclick="showSection('clock')">‚è∞ –ß–∞—Å—ã</button>
    </div>

    <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
    <div class="section" id="calculator">
        <input type="text" id="calc-display" readonly>
        <div class="calc-grid">
            <button onclick="calcPress('7')">7</button>
            <button onclick="calcPress('8')">8</button>
            <button onclick="calcPress('9')">9</button>
            <button onclick="calcPress('/')">/</button>

            <button onclick="calcPress('4')">4</button>
            <button onclick="calcPress('5')">5</button>
            <button onclick="calcPress('6')">6</button>
            <button onclick="calcPress('*')">*</button>

            <button onclick="calcPress('1')">1</button>
            <button onclick="calcPress('2')">2</button>
            <button onclick="calcPress('3')">3</button>
            <button onclick="calcPress('-')">-</button>

            <button onclick="calcPress('0')">0</button>
            <button onclick="calcPress('.')">.</button>
            <button onclick="calcPress('=')">=</button>
            <button onclick="calcPress('+')">+</button>
        </div>
    </div>

    <!-- –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ -->
    <div class="section" id="guess">
        <p>–ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100</p>
        <input type="number" id="guess-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ">
        <button onclick="guessNumber()">üéØ –£–≥–∞–¥–∞—Ç—å</button>
        <p id="guess-result"></p>
    </div>

    <!-- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π -->
    <div class="section" id="password">
        <select id="password-type">
            <option value="letters">–ë—É–∫–≤—ã</option>
            <option value="digits">–¶–∏—Ñ—Ä—ã</option>
            <option value="lettersdigits">–ë—É–∫–≤—ã –∏ –¶–∏—Ñ—Ä—ã</option>
            <option value="all">–ë—É–∫–≤—ã, –¶–∏—Ñ—Ä—ã –∏ –°–∏–º–≤–æ–ª—ã</option>
        </select>
        <button onclick="generatePassword()">üîê –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
        <p id="password-result"></p>
    </div>

    <!-- –ß–∞—Å—ã -->
    <div class="section" id="clock">
        <div class="time-display" id="time-display">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <script>
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'block';
        }

        // =================== –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä ===================
        let calcExpression = '';
        function calcPress(val) {
            if(val === '=') {
                try {
                    calcExpression = eval(calcExpression).toString();
                } catch {
                    calcExpression = '–û—à–∏–±–∫–∞';
                }
            } else {
                calcExpression += val;
            }
            document.getElementById('calc-display').value = calcExpression;
        }

        // =================== –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ ===================
        let secretNumber = Math.floor(Math.random()*101);
        function guessNumber() {
            const input = Number(document.getElementById('guess-input').value);
            if(isNaN(input)) return alert('–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!');
            let result = '';
            if(input < secretNumber) result = '–ë–æ–ª—å—à–µ';
            else if(input > secretNumber) result = '–ú–µ–Ω—å—à–µ';
            else { result = '–¢—ã —É–≥–∞–¥–∞–ª!'; secretNumber = Math.floor(Math.random()*101); }
            document.getElementById('guess-result').textContent = result;
        }

        // =================== –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π ===================
        function generatePassword() {
            const type = document.getElementById('password-type').value;
            const length = 12;
            let chars = '';
            if(type==='letters') chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
            else if(type==='digits') chars = '0123456789';
            else if(type==='lettersdigits') chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            else chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+[]{}|;:,.<>?';
            let pass = '';
            for(let i=0;i<length;i++) pass += chars[Math.floor(Math.random()*chars.length)];
            document.getElementById('password-result').textContent = pass;
        }

        // =================== –ß–∞—Å—ã ===================
        async function updateClock() {
            try {
                const response = await fetch("/time");
                const data = await response.json();
                document.getElementById('time-display').textContent = data.time;
            } catch(e) { console.error(e); }
        }
        setInterval(updateClock,1000);
        updateClock();
    </script>
</body>
</html>
